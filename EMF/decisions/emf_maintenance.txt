decisions = {

	test = {
		potential = { ai = no }
		allow = {
			or = {
				month = 11 # Winter
				and = {
					month = 2 # Spring
					not = { month = 3 }
				}
				and = {
					month = 5 # Summer
					not = { month = 6 }
				}
				and = {
					month = 8 # Autumn
					not = { month = 9 }
				}
			}
		}
		effect = {}
		ai_will_do = { factor = 0 }
	}

	emf_quarterly_pulse = {
		is_high_prio = yes
		
		potential = {
			# TO-TRY: Would the special trigger 'isis = { character = ROOT }' be more
			# efficient generally for narrowing the engine down to Isis?  Would it work
			# (cached+unique traits have special syntax for this purpose which I've seen
			#  but never used)?
			e_hip = { holder_scope = { character = ROOT } }
			
			or = {
				not = { has_global_flag = emf_quarter_pulse }
				had_global_flag = { flag = emf_quarter_pulse days = 45 }
			}
			or = {
				month = 11 # Winter
				and = {
					month = 2 # Spring
					not = { month = 3 }
				}
				and = {
					month = 5 # Summer
					not = { month = 6 }
				}
				and = {
					month = 8 # Autumn
					not = { month = 9 }
				}
			}
		}
		allow = { }
		effect = {
			clr_global_flag = emf_quarter_pulse
			set_global_flag = emf_quarter_pulse
			
			any_independent_ruler = {
				limit = { ai = no }
				character_event = { id = emf_regional.666 }
			}
			
			# TODO:
			# Do stuff to the world on the quarterly pulse as Isis.
			### Weather Module ###
			if = { 
				limit = { not = { has_global_flag = emf_region_invert } }
				character_event = { id = emf_regional.0 }
				set_character_flag = emf_region_temp
			}
			if = {
				limit = { has_global_flag = emf_region_invert }
				character_event = { id = emf_regional.0 }
				clr_global_flag = emf_region_invert
			}
			if = {
				limit = { has_character_flag = emf_region_temp }
				set_global_flag = emf_region_invert
			}
			clr_character_flag = emf_region_temp
		}
		ai_will_do = {
			factor = 100
		}
	}

}
