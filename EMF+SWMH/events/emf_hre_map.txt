
namespace = emf_core

# emf_core.30
#
# Map-specific de jure adjustment adjunct to decision
# emf_create_hre (SWMH map version)
character_event = {
	id = emf_core.30
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		# Reactivate and restore k_lower_lorraine, k_upper_lorraine,
		# k_saxony, k_schwaben, k_carinthia, and k_franconia. See
		# emf_startup_map.txt for how we got here and where we're returning.
		
		e_hre = {
			any_de_jure_vassal_title = {
				limit = {
					tier = duke
					has_title_flag = k_lower_lorraine
				}
				de_jure_liege = k_lower_lorraine
				clr_title_flag = k_lower_lorraine
			}
			any_de_jure_vassal_title = {
				limit = {
					tier = duke
					has_title_flag = k_upper_lorraine
				}
				de_jure_liege = k_upper_lorraine
				clr_title_flag = k_upper_lorraine
			}
			any_de_jure_vassal_title = {
				limit = {
					tier = duke
					has_title_flag = k_saxony
				}
				de_jure_liege = k_saxony
				clr_title_flag = k_saxony
			}
			any_de_jure_vassal_title = {
				limit = {
					tier = duke
					has_title_flag = k_franconia
				}
				de_jure_liege = k_franconia
				clr_title_flag = k_franconia
			}
			any_de_jure_vassal_title = {
				limit = {
					tier = duke
					has_title_flag = k_schwaben
				}
				de_jure_liege = k_schwaben
				clr_title_flag = k_schwaben
			}
			any_de_jure_vassal_title = {
				limit = {
					tier = duke
					has_title_flag = k_carinthia
				}
				de_jure_liege = k_carinthia
				clr_title_flag = k_carinthia
			}
		}

		activate_title = { title = k_lower_lorraine status = yes }
		activate_title = { title = k_upper_lorraine status = yes }
		activate_title = { title = k_saxony status = yes }
		activate_title = { title = k_franconia status = yes }
		activate_title = { title = k_schwaben status = yes }
		activate_title = { title = k_carinthia status = yes }
		
		# Deactivate k_lotharingia and k_germany (assumed they don't
		# have a holder at this point, would have to be revisited in
		# case of a french HRE).
		
		activate_title = { title = k_lotharingia status = no }
		activate_title = { title = k_germany status = no }
	}
}
